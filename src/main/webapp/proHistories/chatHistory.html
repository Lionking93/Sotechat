<div ng-controller="proHistoriesController">
    <h1 class="page-header">Menneet keskustelut</h1>
    <div class="col-md-2" ng-hide="showConv">
        <button class="btn btn-default" ng-click="$parent.backToPanel()">
            Takaisin
        </button>
        <button class="btn btn-success" ng-click="addQuantity()">Näytä lisää
        </button>
    </div>
    <div class="col-md-10" ng-hide="showConv">
        <div ng-hide="left">Ei enempää keskusteluja</div>
        <div ng-show="empty">Ei keskusteluja</div>

        <div class="panel panel-default" ng-repeat="conversation in Conversations | orderBy:'date':false | limitTo:quantity">
            <div class="panel-heading queuer-heading" ng-click="collapsed = !collapsed">
                {{conversation.date | date:'dd.MM.yyyy HH:mm' }} {{ conversation.person }} {{
                conversation.category }} <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': collapsed, 'glyphicon-chevron-right': !collapsed}"></i>
            </div>
            <div class="panel-collapse collapse" uib-collapse="!collapsed">
                <div class="panel-body">
                    <history-conversation-component channel="{{conversation.channelId}}" myname="{{myUsername}}"></history-conversation-component>
                </div>
            </div>
    </div>

    </div>
    <div ng-show="showConv" ng-include="view" ></div>
</div>
